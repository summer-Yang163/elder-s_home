<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.elder.mapper.CommunityMapper">

    <select id="select" resultType="com.elder.pojo.Community">
        select * from community where 1=1
               <if test="community_id != null"> and community_id=#{community_id}</if>

               <if test="name != null"> and name=#{name}</if>

               <if test="address != null"> and address=#{address}</if>

               <if test="phone != null"> and phone=#{phone}</if>

               <if test="photo != null"> and photo=#{photo}</if>

            </select>

    <insert id="add">
        intsert into community
        <trim prefix="(" suffix=")" suffixOverrides=",">
                  <if test="community_id != null"> community_id,</if>

                  <if test="name != null"> name,</if>

                  <if test="address != null"> address,</if>

                  <if test="phone != null"> phone,</if>

                  <if test="photo != null"> photo,</if>

                    </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">#{$column.name}</trim>

    </insert>

    <update id="update">
        update community set
        <trim prefix=" " suffix=" " suffixOverrides=",">
                                                               <if test="name != null"> name=#{name},</if>

                                                   <if test="address != null"> address=#{address},</if>

                                                   <if test="phone != null"> phone=#{phone},</if>

                                                   <if test="photo != null"> photo=#{photo},</if>

                                    </trim>
        where community_id=#{community_id}
    </update>

    <update id="delete">
        delete from community where community_id=#{community_id}
    </update>
</mapper>